# 会话记录：2026-01-21

## 目标

- 确认 fold0 的所有对照/消融/创新模块任务均已完成。
- 汇总关键指标并撰写阶段性报告。

## 输入与范围

- 仅整理 `outputs/results/clg_ode/runs/*/fold0/` 下已生成的 `clg_ode_results.json/test_sc_metrics.json/metrics.csv`。
- 不改动任何 `outputs/` 或 `data/` 下的运行产物。

## 完成内容

- 定位并确认：`outputs/logs/clg_ode/13702673.out` 对应 `clg_focal_ld01`（focal baseline），非 D2。
- 汇总 fold0 的 Baselines/消融/D2（innovation）在测试集上的关键指标，并形成对比表与结论。
- 产出报告：
  - `docs/reports/clg_fold0_fixedsupport_innovation_report_20260121.md`
- 设计下一轮唯一新增实验（D2′）：更保守的 innovation + 冻结主干 + 仅长间隔启用；并补齐新增边/零边区域评测指标，避免新增边收益在全图指标中被淹没。

## D2′ 运行情况与修复

- job `13702869`（`clg_d2prime_long_freeze/fold0`）在 epoch 11 冻结主干后崩溃：`RuntimeError: element 0 of tensors does not require grad...`。
- 根因：冻结后若采样到的都是短间隔对（dt<9mo），innovation gate=0，导致整批 loss 不含任何可回传梯度的项；随后 `loss.backward()` 触发报错。
- 修复：训练阶段检测 `loss.requires_grad`，无梯度则跳过反传；并在 innovation-only 阶段偏向采样更长间隔对（避免 gate 长期为 0）。

## 结论摘要（1 行）

- fixed-support + residual 系列在 `sc_log_mse` 与稀疏口径（topk/sparse）上优于 identity baseline，但在全上三角 Pearson 上仍略低；当前默认超参下 D2（保守新增边）未带来整体指标增益，建议作为可选模块并补充新边专用指标后再评估。
